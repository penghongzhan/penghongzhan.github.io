---
title: 数据平台-数据服务应用架构
date: 2021-05-23 10:49:16
categories:
- 系统架构
tags:
- 数据平台
- 架构
- 分层
- 数据服务
---

# 四层架构

![](四层分层结构设计.png)

## service层的业务逻辑处理

### 入参业务逻辑

将前端入参参数转换成不同的业务逻辑对应的参数：

- 不同的参数对应不同的模块：比如聚合分析和明细表格
- 不同的参数对应不同的分析维度：比如说汇总维度和细分维度
- 不同的参数对应不同的分析指标：比如说销售指标、客诉指标等

将处理之后的参数封装成下层统一使用的param。

### 响应业务逻辑

将返回结果处理成不同的业务展现形式：

- 卡片
- 表格
  - 下钻
- 曲线图
- 环图、饼图

## manager层的通用处理逻辑

### 入参通用处理

将service处理之后的参数，转换成后台不同的查询引擎对应的查询条件，比如说sql、dsl、其他统一查询平台api

### 返回结果通用处理

将不同的查询引擎返回的不同结构转成统一的List<Map>
